# ================================
# Node Environment
# ================================
NODE_ENV=staging
PORT=3000
HOST=0.0.0.0
API_PREFIX=/api
API_VERSION=v1

# ================================
# Database Configuration
# ================================
DATABASE_URL=postgres://stg_user:stg_password@stg-db-host:5432/beauty_salon_stg
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20
DATABASE_POOL_SIZE=40
DATABASE_CONNECTION_TIMEOUT=45000
POSTGRES_DB=beauty_salon_stg
POSTGRES_USER=stg_user
POSTGRES_PASSWORD=stg_password
POSTGRES_PORT=5432
DB_HOST=stg-db-host

# ================================
# Authentication & Security
# ================================
JWT_SECRET=staging-jwt-secret-key-minimum-32-characters-long
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=staging-refresh-secret-key-minimum-32-characters
JWT_REFRESH_EXPIRES_IN=30d

# ================================
# Session
# ================================
SESSION_SECRET=staging-session-secret-minimum-32-characters
SESSION_COOKIE_NAME=beauty_salon_session
SESSION_COOKIE_MAX_AGE=86400000
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_SAME_SITE=lax

# ================================
# Security
# ================================
BCRYPT_ROUNDS=12
ENCRYPTION_KEY=staging-32-character-encryption
CSRF_SECRET=staging-csrf-secret-here

# ================================
# Password Reset
# ================================
PASSWORD_RESET_TOKEN_EXPIRES_IN=3600
PASSWORD_RESET_URL=https://staging.beauty-salon.com/reset-password

# ================================
# Email Verification
# ================================
EMAIL_VERIFICATION_TOKEN_EXPIRES_IN=86400
EMAIL_VERIFICATION_URL=https://staging.beauty-salon.com/verify-email

# ================================
# Two Factor Auth
# ================================
TWO_FACTOR_ISSUER=Beauty Salon Staging
TWO_FACTOR_WINDOW=2

# ================================
# CORS
# ================================
CORS_ORIGIN=https://staging.beauty-salon.com,https://admin-staging.beauty-salon.com
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

# ================================
# Rate Limiting
# ================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# ================================
# Logging
# ================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/beauty-salon/app.log
LOG_FILE_MAX_SIZE=52428800
LOG_FILE_MAX_FILES=7

# ================================
# Email Configuration
# ================================
EMAIL_PROVIDER=mailgun
EMAIL_FROM_ADDRESS=noreply@staging.beauty-salon.com
EMAIL_FROM_NAME=Beauty Salon Staging
EMAIL_REPLY_TO=support@staging.beauty-salon.com

# ================================
# Mailhog Configuration
# ================================
MAILHOG_HOST=mailhog
MAILHOG_PORT=1025
MAILHOG_SMTP_PORT=1025
MAILHOG_WEB_PORT=8025

# ================================
# Mailgun Configuration
# ================================
MAILGUN_API_KEY=key-staging-mailgun-api-key
MAILGUN_DOMAIN=mg.staging.beauty-salon.com
MAILGUN_REGION=US
MAILGUN_TEST_MODE=false
MAILGUN_WEBHOOK_SIGNING_KEY=staging-webhook-key

# ================================
# Storage Configuration
# ================================
STORAGE_PROVIDER=r2
STORAGE_ENDPOINT=https://xxx.r2.cloudflarestorage.com
STORAGE_MAX_FILE_SIZE=524288000
STORAGE_ALLOWED_EXTENSIONS=jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx
STORAGE_UPLOAD_URL_EXPIRES_IN=3600
STORAGE_DOWNLOAD_URL_EXPIRES_IN=86400

# ================================
# MinIO Configuration
# ================================
MINIO_ENDPOINT=http://minio:9000
MINIO_BUCKET=beauty-salon-stg
MINIO_REGION=us-east-1
MINIO_ACCESS_KEY_ID=minioadmin
MINIO_SECRET_ACCESS_KEY=minioadmin
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001

# ================================
# R2 Configuration
# ================================
R2_ENDPOINT=https://xxx.r2.cloudflarestorage.com
R2_BUCKET=beauty-salon-stg
R2_ACCOUNT_ID=staging-account-id
R2_ACCESS_KEY_ID=staging-r2-access-key
R2_SECRET_ACCESS_KEY=staging-r2-secret-key

# ================================
# S3 Configuration
# ================================
S3_ENDPOINT=https://s3.amazonaws.com
S3_ACCESS_KEY_ID=stg-s3-access-key
S3_SECRET_ACCESS_KEY=stg-s3-secret-key
S3_BUCKET=beauty-salon-stg
S3_REGION=us-east-1

# ================================
# CDN Configuration
# ================================
CDN_BASE_URL=https://cdn-staging.beauty-salon.com
CDN_ENABLE=true

# ================================
# Frontend URL
# ================================
FRONTEND_URL=https://staging.beauty-salon.com

# ================================
# SMTP Configuration
# ================================
SMTP_HOST=smtp.mailgun.org
SMTP_PORT=587
SMTP_USER=postmaster@mg.staging.beauty-salon.com
SMTP_PASSWORD=staging-smtp-password
SMTP_FROM=noreply@staging.beauty-salon.com

# ================================
# Test Container Configuration
# ================================
TESTCONTAINERS_RYUK_DISABLED=true
DOCKER_CONFIG=/home/app/.docker